{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.329fb2df9e6db3e62494.hot-update.js","sources":["webpack:///./lib/withData.js"],"sourcesContent":["import withApollo from 'next-with-apollo';\nimport ApolloClient from 'apollo-boost';\nimport { endpoint, prodEndPoint } from '../config';\nimport { LOCAL_STATE_QUERY } from '../components/Cart';\n\nfunction createClient({ headers }) {\n\treturn new ApolloClient({\n\t\turi: process.env.NODE_ENV === 'development' ? endpoint : prodEndPoint,\n\t\trequest: operation => {\n\t\t\toperation.setContext({\n\t\t\t\tfetchOptions: {\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t  },\n\t\t\t\theaders\n\t\t\t});\n\t\t},\n\n\t\t//Local Data\n\n\t\tclientState: {\n\t\t\tresolvers: {\n\t\t\t\tMutation: {\n\t\t\t\t\ttoggleCart(_, variables, { cache }) {\n\t\t\t\t\t\t//Read the cart open value from the cache\n\n\t\t\t\t\t\tconst { cartOpen } = cache.readQuery({\n\t\t\t\t\t\t\tquery: LOCAL_STATE_QUERY\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t//Write the cart state to the opposite\n\n\t\t\t\t\t\tconst data = {\n\t\t\t\t\t\t\tdata: { cartOpen: !cartOpen }\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcache.writeData(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdefaults: {\n\t\t\t\tcartOpen: false\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport default withApollo(createClient);\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAJA;AAMA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AAIA;AADA;AAHA;AACA;AACA;AAOA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AAdA;AADA;AAkBA;AACA;AADA;AAnBA;AAbA;AAqCA;AACA;AACA;;;;A","sourceRoot":""}